\documentclass[10pt, a4paper]{article}
\usepackage[top=2cm, bottom=2cm, left=2cm, right=2cm]{geometry}
% \usepackage{fullpage}
\usepackage[italian]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8x]{inputenc}
\usepackage{eso-pic}
\usepackage{graphicx}
\usepackage{setspace}
\usepackage{hyperref}
% \usepackage{fancyref}
% \usepackage{siunitx}
% \usepackage{amsthm}
\usepackage{amsmath}
\usepackage{lstautogobble}
\usepackage{xcolor}
% \usepackage{courier}
\usepackage[font=small, labelfont=bf, margin=30pt]{caption}
\usepackage{subcaption}
% \usepackage{tabularx}
\usepackage{booktabs}
% \usepackage{textcomp}
% \usepackage{ragged2e}
% \usepackage{colortbl}
% \usepackage{multirow}
\usepackage{array}
\usepackage{listings}
\usepackage{pxfonts}
\usepackage{tabu}
% \usepackage{lmodern}
\usepackage[inline]{enumitem}
\usepackage[compact, small]{titlesec}

\definecolor{lightestgray}{gray}{0.97}

\usepackage{tcolorbox}
\tcbuselibrary{listings,breakable}

\lstset{
  framexbottommargin=1pt,
  framextopmargin=2pt,
  language=Java,
  frame=lines,
  showspaces=false,
  showtabs=false,
  breaklines=true,
  showstringspaces=false,
  breakatwhitespace=true,
  keywordstyle=\bfseries,
  stringstyle=\itshape\color{darkgray},
  basicstyle=\linespread{1.4}\fontsize{10}{7}\ttfamily,
  numberstyle=\fontsize{7}{8}\normalfont,
  literate = *{\ \ }{\ }1,
  numbers=left,
  autogobble,
  deletekeywords=label,
  backgroundcolor=\color{lightestgray}
}

\DeclareGraphicsExtensions{.png, .pdf}
\graphicspath{{img/}{../img/}}
\author{Francesco Landolfi}
\title{Final Term di Programmazione Avanzata}

\newcommand{\makefrontispiece}{
    \AddToShipoutPicture*{\AtPageCenter{\makebox(0, 0){%
        \includegraphics[width=\textwidth]{logo_large}}}}

    \begin{titlepage}
    \begin{center}
    \begin{large}
    \begin{onehalfspacing}
        \includegraphics[width=0.20\textwidth]{logo}\\
        % \smallskip
        {\Large{\bf \scshape Università di Pisa}\\
        Facoltà di Scienze Matematiche, Fisiche e Naturali\\
        Dipartimento di Informatica}\\
        \rule{0.65\textwidth}{1pt}\\
        \medskip
        Corso di Laurea Magistrale in {\scshape Informatica}\\
        \vspace{4cm}
        {\huge \scshape Final Term di \\\smallskip Programmazione Avanzata}\\
        \bigskip
        {\Large Francesco Landolfi}
        \vfill
        % \vspace{1.5cm}
        \rule{0.32\textwidth}{1pt}
        \medskip\\
        \today \\
        Terzo Appello Estivo \\ \smallskip
        Anno Accademico 2016/2017
    \end{onehalfspacing}
    \end{large}
    \end{center}
    \end{titlepage}
}

\let\othelstnumber=\thelstnumber
\def\createlinenumber#1#2{
  \edef\thelstnumber{%
    \unexpanded{%
      \ifnum#1=\value{lstnumber}\relax
        #2%
      \else}%
    \expandafter\unexpanded\expandafter{\thelstnumber\othelstnumber\fi}%
  }
  \ifx\othelstnumber=\relax\else
    \let\othelstnumber\relax
  \fi
}

\newcommand\smallvdots{%
  \vbox{%
    \baselineskip3pt\lineskiplimit0pt\kern1pt\hbox{.}\hbox{.}\hbox{.}\kern-1pt
  }
}

\begin{document}
% \makefrontispiece
\maketitle
\input{tex/E1.tex}
\input{tex/E2.tex}
\input{tex/E3.tex}
\input{tex/E4.tex}
\input{tex/E5.tex}
\input{tex/E6.tex}
\input{tex/E7.tex}
\end{document}
